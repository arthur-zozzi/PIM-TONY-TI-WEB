@{
    ViewData["Title"] = "Redefinir senha";
    var email = ViewBag.Email as string ?? string.Empty;
    var message = ViewBag.Message as string;
}

<h1>Redefinir senha</h1>

@if (!string.IsNullOrEmpty(message))
{
<div class="alert alert-info">@message</div>
}

@if (!ViewData.ModelState.IsValid)
{
<div class="text-danger">
    @Html.ValidationSummary(false)
</div>
}

<form asp-action="ResetPassword" method="post">
    @Html.AntiForgeryToken()

    <input type="hidden" name="email" value="@email" />

    <div class="form-group" style="margin-bottom:10px;">
        <label for="code">Código recebido por e-mail</label>
        <input type="text" name="code" id="code" class="form-control" required />
    </div>

    <div class="form-group" style="margin-bottom:10px;">
        <label for="novaSenha">Nova senha</label>
        <input type="password" name="novaSenha" id="novaSenha" class="form-control" required />
    </div>

    <div class="form-group" style="margin-bottom:10px;">
        <label for="confirmarSenha">Confirmar nova senha</label>
        <input type="password" name="confirmarSenha" id="confirmarSenha" class="form-control" required />
    </div>

    <div style="margin-top:10px;">
        <button type="submit" class="btn btn-success">Redefinir senha</button>
        <a asp-action="Login" class="btn btn-secondary" style="margin-left:8px;">Voltar ao login</a>
    </div>
</form>
